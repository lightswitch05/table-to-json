!function(a){"use strict";a.fn.tableToJSON=function(b){var c={ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,headings:null,allowHTML:!1};b=a.extend(c,b);var d=function(a){return void 0!==a&&null!==a},e=function(c){return d(b.onlyColumns)?-1===a.inArray(c,b.onlyColumns):-1!==a.inArray(c,b.ignoreColumns)},f=function(b,c){var e={},f=0;return a.each(c,function(a,c){f<b.length&&d(c)&&(e[b[f]]=c,f++)}),e},g=function(c,f){var g,h;if(!e(c)){var i=a(f).data("override");g=b.allowHTML?a.trim(a(f).html()):a.trim(a(f).text()),h=d(i)?i:g}return h},h=function(b){var c=[];return a(b).children("td,th").each(function(a,b){e(a)||c.push(g(a,b))}),c},i=function(a){var c=a.find("tr:first").first();return d(b.headings)?b.headings:h(c)},j=function(c,h){var i,j,k,l,m,n=[],o=0,p=[];return c.children("tbody,*").children("tr").each(function(c,f){(c>0||d(b.headings))&&(l=a(f),(l.is(":visible")||!b.ignoreHiddenRows)&&(n[c]||(n[c]=[]),o=0,l.children().each(function(){if(!e(o)){if(m=a(this),m.filter("[rowspan]").length)for(j=parseInt(m.attr("rowspan"),10)-1,o=this.cellIndex,k=g(o,m,[]),i=1;j>=i;i++)n[c+i]||(n[c+i]=[]),n[c+i][o]=k;if(m.filter("[colspan]").length)for(j=parseInt(m.attr("colspan"),10)-1,o=this.cellIndex,k=g(o,m,[]),i=1;j>=i;i++)n[c][o+i]=k;for(;n[c][o];)o++;e(o)||(k=n[c][o]||g(o,m,[]),d(k)&&(n[c][o]=k))}o++})))}),a.each(n,function(a,b){d(b)&&(k=f(h,b),p[p.length]=k)}),p},k=i(this);return j(this,k)}}(jQuery);