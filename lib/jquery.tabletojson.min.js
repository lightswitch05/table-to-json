/**
 * Table To JSON
 * Reads an HTML table and returns a JSON object representing the values and columns of the table
 *
 * @author Daniel White
 * @copyright Daniel White 2013
 * @license MIT <https://github.com/lightswitch05/table-to-json/blob/master/MIT-LICENSE>
 * @link https://github.com/lightswitch05/table-to-json
 * @module Table To JSON
 * @version 0.3.0
 */
(function(e){e.fn.tableToJSON=function(t){var n={ignoreColNum:[],ignoreHiddenRows:!0};t=e.extend(n,t);var r=[];this.find("tr > th").each(function(n,i){e.inArray(n,t.ignoreColNum)===-1?e(i).data("column-name")!==undefined&&e(i).data("column-name")!=null?r[n]=e(i).data("column-name"):r[n]=e.trim(e(i).text()):r[n]=null});var i=[];return this.children("tbody").children("tr:has(td)").filter(function(t){return e(this).children("th").length===0}).each(function(n,s){if(e(s).is(":visible")||!t.ignoreHiddenRows)i[n]={},e(s).children("td").each(function(t,s){r[t]!==undefined&&r[t]!==null&&(e(s).data("cell-value")!==undefined&&e(s).data("cell-value")!==null?i[n][r[t]]=e(s).data("cell-value"):i[n][r[t]]=e.trim(e(s).text()))})}),i}})(jQuery);