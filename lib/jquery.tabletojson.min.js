/**
 * tabletojson
 * jQuery plugin that reads an HTML table and returns a javascript object representing the values and columns of the table
 *
 * @author Daniel White
 * @copyright Daniel White 2013
 * @license MIT <https://github.com/lightswitch05/table-to-json/blob/master/MIT-LICENSE>
 * @link https://github.com/lightswitch05/table-to-json
 * @module tabletojson
 * @version 0.4.0
 */
(function(e){e.fn.tableToJSON=function(t){var n={ignoreColNum:[],ignoreHiddenRows:!0};t=e.extend(n,t);var r=function(n,r){var i=[];return n.find(r).each(function(n,r){e.inArray(n,t.ignoreColNum)===-1?e(r).data("column-name")!==undefined&&e(r).data("column-name")!=null?i[n]=e(r).data("column-name"):i[n]=e.trim(e(r).text()):i[n]=null}),i},i=function(n,r,i){var s=[];return n.children("tbody").children("tr:has(td)").filter(function(t){return e(this).children("th").length===0}).each(function(n,o){if(!i||n!==0)if(e(o).is(":visible")||!t.ignoreHiddenRows)s[s.length]={},e(o).children("td").each(function(t,n){r[t]!==undefined&&r[t]!==null&&(e(n).data("cell-value")!==undefined&&e(n).data("cell-value")!==null?s[s.length-1][r[t]]=e(n).data("cell-value"):s[s.length-1][r[t]]=e.trim(e(n).text()))})}),s},s=!1,o=r(this,"tr:first > th");return o.length===0&&(s=!0,o=r(this,"tr:first > td")),i(this,o,s)}})(jQuery);